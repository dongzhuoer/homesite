---
title: project pages -- case study in GitLab 
author: Zhuoer Dong
date: '2018-10-22'
slug: gitlab-pages
categories: 2018
tags: []
authors: []
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>

<div id="TOC">
<ul>
<li><a href="#beginning"><span class="toc-section-number">1</span> Beginning</a></li>
<li><a href="#curve-to-gitlab"><span class="toc-section-number">2</span> Curve to GitLab</a></li>
<li><a href="#back-to-github"><span class="toc-section-number">3</span> Back to GitHub</a></li>
<li><a href="#afterword"><span class="toc-section-number">4</span> Afterword</a></li>
</ul>
</div>

<div id="beginning" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Beginning</h1>
<p>Prof Lu asks me to to build a GitHub pages using custom domain. So I explore whether GitHub project pages can use custom domain.</p>
<p>I guess since the pages of repo <code>project</code> lives in <code>username.github.io/project</code>, it seems incompatible with <code>CNAME</code> record, which points one (sub)domain to another (sub)domain, i.e., the <code>/project</code> part is not allowed).</p>
<p>But GitHub crashes since about 11:30 (Beijing time), after a lot of depression, I decide to try on GitLab.</p>
</div>
<div id="curve-to-gitlab" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Curve to GitLab</h1>
<p>The results quite surprised me. It turns out that for custom domain of project pages is also <code>dongzhuoer.gitlab.io</code>, the same as that of user pages <a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.</p>
<p>For example:</p>
<table>
<colgroup>
<col width="25%" />
<col width="37%" />
<col width="37%" />
</colgroup>
<thead>
<tr class="header">
<th>repo</th>
<th>url</th>
<th>custom domain</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>dongzhuoer.gitlab.io</code></td>
<td><a href="https://dongzhuoer.gitlab.io" class="uri">https://dongzhuoer.gitlab.io</a></td>
<td><a href="http://gitlab.ncrnalab.org/" class="uri">http://gitlab.ncrnalab.org/</a></td>
</tr>
<tr class="even">
<td><code>DBA</code></td>
<td><a href="http://dongzhuoer.gitlab.io/DBA" class="uri">http://dongzhuoer.gitlab.io/DBA</a></td>
<td><a href="http://dba.gitlab.ncrnalab.org/" class="uri">http://dba.gitlab.ncrnalab.org/</a></td>
</tr>
</tbody>
</table>
<p>Then I can’t hesitate to ask a question: what if I create <code>DBA/index.html</code> in <code>dongzhuoer.gitlab.io</code> repo?</p>
<ul>
<li><a href="https://dongzhuoer.gitlab.io/DBA/" class="uri">https://dongzhuoer.gitlab.io/DBA/</a> is still homepage of <code>DBA</code></li>
<li><a href="http://gitlab.ncrnalab.org/DBA/" class="uri">http://gitlab.ncrnalab.org/DBA/</a> displays <code>DBA/index.html</code></li>
</ul>
</div>
<div id="back-to-github" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Back to GitHub</h1>
<p>In the evening, I can normally use GitHub, but the build for Pages pends. I had no option but to create demo files and wait for result.
Finally GitHub Pages recovers in the next day.</p>
<p>It turns out the case for GitHub is nearly <em>identical</em> to that of GitLab. Except that after you enable custom domain, <a href="https://dongzhuoer.gitlab.io/DBA/" class="uri">https://dongzhuoer.gitlab.io/DBA/</a> would automatically jumps <a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a> to <a href="http://gitlab.ncrnalab.org/" class="uri">http://gitlab.ncrnalab.org/</a> . Thus we lose the chance to ask the above question for GitHub.</p>
</div>
<div id="afterword" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Afterword</h1>
<p>The following official posts may be helpful:</p>
<ul>
<li><a href="https://help.github.com/articles/about-supported-custom-domains/">About supported custom domains</a></li>
<li><a href="https://help.github.com/articles/custom-domain-redirects-for-github-pages-sites/">Custom domain redirects for GitHub Pages sites</a></li>
<li><a href="https://help.github.com/articles/user-organization-and-project-pages/">User, Organization, and Project Pages</a></li>
</ul>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>as a special rule, GitLab asks you to also set TXT record for verifying your DNS<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>to be precise, this only happens after you <em>enforce HTTPS</em><a href="#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
